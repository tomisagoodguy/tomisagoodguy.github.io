<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æˆ¿åœ°ç¨…å‹™å…¨æ–¹ä½ç³»çµ± </title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: "Microsoft JhengHei", sans-serif;
            background-color: #f0f2f5;
        }

        .font-header {
            font-weight: bold;
            color: #203764;
        }

        /* æ¨¡æ“¬ Excel æ¨£å¼ */
        .step-header {
            background-color: #4472C4;
            color: white;
            font-weight: bold;
            padding: 10px;
            font-size: 1.1em;
            border: 1px solid #333;
        }

        /* è¼¸å…¥æ¬„ä½ */
        .input-label {
            background-color: #FFF2CC;
            border: 1px solid #BF9000;
            font-weight: bold;
            padding: 8px;
            display: flex;
            align-items: center;
        }

        .input-field {
            background-color: #FFFFE0;
            border: 1px solid #BF9000;
            color: blue;
            font-weight: bold;
            padding: 8px;
            text-align: right;
            width: 100%;
            font-size: 1.1em;
        }

        .user-fill {
            background-color: #FFFF99;
            border: 2px solid #FF0000;
            color: #FF0000;
            font-weight: bold;
            text-align: center;
        }

        /* çµæœæ¬„ä½èˆ‡æ¨™é¡Œ */
        .row-header {
            background-color: #E7E6E6;
            color: #333;
            font-weight: bold;
            text-align: center;
            border: 1px solid #999;
            padding: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* ç¶ è‰²ç³» (ä¸€èˆ¬å€‹äºº) */
        .res-green {
            background-color: #E2EFDA;
            border: 1px solid #548235;
            color: #385723;
            font-weight: bold;
            text-align: right;
            padding: 8px;
        }

        /* è—è‰²ç³» (å…¬å¸æ³•äºº) */
        .res-blue {
            background-color: #DDEBF7;
            border: 1px solid #9BC2E6;
            color: #1F4E78;
            font-weight: bold;
            text-align: right;
            padding: 8px;
        }

        /* ç®—å¼é¡¯ç¤º */
        .formula-display {
            background-color: #F2F2F2;
            color: #595959;
            font-size: 0.9em;
            text-align: right;
            padding: 4px 8px;
            border: 1px solid #D9D9D9;
        }

        /* æœ€çµ‚ç¨…é¡ */
        .tax-res {
            background-color: #FCE4D6;
            color: #C00000;
            font-weight: bold;
            font-size: 1.3em;
            text-align: right;
            padding: 10px;
            border: 2px solid #C00000;
        }

        .unit {
            color: gray;
            font-size: 0.9em;
            margin-left: 5px;
        }

        /* è²»ç”¨è¡¨ */
        .exp-header {
            background-color: #FFD966;
            font-weight: bold;
            text-align: center;
            border: 1px solid #333;
            padding: 5px;
        }

        .exp-item {
            background-color: white;
            border: 1px solid #ccc;
            padding: 5px;
        }
    </style>
</head>

<body class="p-4 md:p-8">

    <div class="max-w-7xl mx-auto bg-white p-6 shadow-lg rounded-lg">
        <h1 class="text-3xl font-header mb-6 border-b-2 border-blue-800 pb-2">æˆ¿å±‹åœŸåœ°æ‹†åƒ¹åŠè²¡ç”¢äº¤æ˜“æ‰€å¾—ç¨…è¨ˆç®—å·¥å…· </h1>

        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
            <!-- å·¦å´ä¸»è¦è¨ˆç®—å€ -->
            <div class="lg:col-span-2 space-y-8">

                <!-- Step 1 -->
                <div class="section">
                    <div class="step-header flex justify-between items-center">
                        <span>æ­¥é©Ÿ 1ï¼šåŸºç¤è³‡æ–™è¼¸å…¥</span>
                        <button onclick="resetAll()"
                            class="bg-red-500 hover:bg-red-600 text-white text-sm px-3 py-1 rounded shadow">
                            æ¸…é™¤æ‰€æœ‰è³‡æ–™
                        </button>
                    </div>
                    <div class="grid grid-cols-12 gap-2 mt-4">
                        <div class="col-span-4 input-label">åœŸåœ°å…¬å‘Šç¾å€¼ (L)</div>
                        <div class="col-span-5"><input type="number" id="L" class="input-field" value="0"
                                oninput="calculate()"></div>
                        <div class="col-span-3 flex items-center unit">å…ƒ</div>

                        <div class="col-span-4 input-label">å»ºç‰©è©•å®šç¾å€¼ (B)</div>
                        <div class="col-span-5"><input type="number" id="B" class="input-field" value="0"
                                oninput="calculate()"></div>
                        <div class="col-span-3 flex items-center unit">å…ƒ</div>

                        <div class="col-span-4 input-label">æˆäº¤ç¸½åƒ¹ (T)</div>
                        <div class="col-span-5"><input type="number" id="T" class="input-field" value="0"
                                oninput="calculate()"></div>
                        <div class="col-span-3 flex items-center unit">å…ƒ</div>

                        <div class="col-span-4 input-label">è»Šä½åƒ¹æ ¼ (C)</div>
                        <div class="col-span-5"><input type="number" id="C" class="input-field" value="0"
                                oninput="calculate()"></div>
                        <div class="col-span-3 flex items-center unit">å…ƒ</div>

                        <div class="col-span-4 row-header">â˜… æˆ¿åœ°æ¯” (ç²¾ç¢ºå€¼)</div>
                        <div class="col-span-5 res-green text-center" id="Ratio_Display">0.00%</div>
                        <div class="col-span-3 flex items-center unit">é¡¯ç¤º2ä½ï¼Œé‹ç®—æ¡å®Œæ•´ç²¾åº¦</div>
                    </div>
                </div>

                <!-- Step 2 -->
                <div class="section">
                    <div class="step-header">æ­¥é©Ÿ 2ï¼šæˆ¿åœ°æ‹†åƒ¹ (å®Œæ•´ç®—å¼)</div>
                    <div class="grid grid-cols-12 gap-2 mt-4">
                        <div class="col-span-3"></div>
                        <div class="col-span-4 row-header">ä¸€èˆ¬å€‹äºº (æœªç¨…)</div>
                        <div class="col-span-5 row-header">æ³•äºº/å…¬å¸ (å«ç¨…)</div>

                        <!-- å»ºç‰© -->
                        <div class="col-span-3 input-label">å»ºç‰©åƒ¹æ ¼</div>
                        <div class="col-span-4 res-green" id="Res_B_Gen">0</div>
                        <div class="col-span-5 res-blue" id="Res_B_Corp">0</div>

                        <div class="col-span-3 text-right text-gray-500 text-sm py-1">ç®—å¼å±•é–‹ï¼š</div>
                        <div class="col-span-4 formula-display" id="Formula_B_Gen"></div>
                        <div class="col-span-5 formula-display" id="Formula_B_Corp"></div>

                        <!-- åœŸåœ° -->
                        <div class="col-span-3 input-label">åœŸåœ°åƒ¹æ ¼</div>
                        <div class="col-span-4 res-green" id="Res_L_Gen">0</div>
                        <div class="col-span-5 res-blue" id="Res_L_Corp">0</div>

                        <div class="col-span-3 text-right text-gray-500 text-sm py-1">ç®—å¼å±•é–‹ï¼š</div>
                        <div class="col-span-4 formula-display" id="Formula_L_Gen"></div>
                        <div class="col-span-5 formula-display" id="Formula_L_Corp"></div>
                    </div>
                </div>

                <!-- Step 3 -->
                <div class="section">
                    <div class="step-header">æ­¥é©Ÿ 3ï¼šæ‰€å¾—è¨ˆç®— (ä¸‰é¸ä¸€)</div>

                    <!-- A. æ ¸å¯¦ -->
                    <div class="mt-4 border border-blue-200 rounded overflow-hidden">
                        <div class="bg-blue-100 p-2 font-bold border-b border-blue-200">A. æ ¸å¯¦èªå®š (å”®åƒ¹ - æˆæœ¬ - è²»ç”¨)</div>
                        <div class="grid grid-cols-12 gap-2 p-2">
                            <div class="col-span-4 input-label">åŸå§‹å–å¾—æˆæœ¬</div>
                            <div class="col-span-5"><input type="number" id="Cost_Orig" class="input-field" value="0"
                                    oninput="calculate()"></div>
                            <div class="col-span-3 flex items-center unit">è²»ç”¨è‡ªå‹•æ‰£é™¤</div>

                            <div class="col-span-4 row-header">â˜… æ ¸å¯¦æ‰€å¾—é¡</div>
                            <div class="col-span-5 res-green" id="Income_A">0</div>
                            <div class="col-span-3"></div>

                            <div class="col-span-4 row-header">é©—ç®—ç®—å¼</div>
                            <div class="col-span-8 formula-display" id="Formula_Income_A"></div>
                        </div>
                    </div>

                    <!-- B. æ¨™æº– -->
                    <div class="mt-4 border border-blue-200 rounded overflow-hidden">
                        <div class="bg-blue-100 p-2 font-bold border-b border-blue-200">B. æ¨™æº–è¨­ç®— (æˆ¿å±‹ç¾å€¼ Ã— æ¨™æº–ç‡)</div>
                        <div class="grid grid-cols-12 gap-2 p-2">
                            <div class="col-span-4 input-label">è¼¸å…¥æ¨™æº–ç‡</div>
                            <div class="col-span-5"><input type="number" id="Rate_Std" class="input-field user-fill"
                                    placeholder="å¦‚ 42" oninput="calculate()"></div>
                            <div class="col-span-3 flex items-center unit">è¼¸å…¥ 42 æˆ– 0.42 çš†å¯</div>

                            <div class="col-span-4 row-header">â˜… æ¨™æº–è¨­ç®—æ‰€å¾—</div>
                            <div class="col-span-5 res-green" id="Income_B">0</div>
                            <div class="col-span-3"></div>

                            <div class="col-span-4 row-header">é©—ç®—ç®—å¼</div>
                            <div class="col-span-8 formula-display" id="Formula_Income_B"></div>
                        </div>
                    </div>

                    <!-- C. è±ªå®… -->
                    <div class="mt-4 border border-blue-200 rounded overflow-hidden">
                        <div class="bg-blue-100 p-2 font-bold border-b border-blue-200">C. è±ªå®…è¨­ç®— (ç¸½åƒ¹ Ã— æˆ¿åœ°æ¯” Ã— æ­¸å±¬ç‡)</div>
                        <div class="grid grid-cols-12 gap-2 p-2">
                            <div class="col-span-4 input-label">è±ªå®…æ­¸å±¬ç‡</div>
                            <div class="col-span-5"><input type="number" id="Rate_Luxury" class="input-field" value="20"
                                    oninput="calculate()"></div>
                            <div class="col-span-3 flex items-center unit">% (æ³•å®š 20%)</div>

                            <div class="col-span-4 row-header">â˜… è±ªå®…è¨­ç®—æ‰€å¾—</div>
                            <div class="col-span-5 res-green" id="Income_C">0</div>
                            <div class="col-span-3"></div>

                            <div class="col-span-4 row-header">é©—ç®—ç®—å¼</div>
                            <div class="col-span-8 formula-display" id="Formula_Income_C"></div>
                        </div>
                    </div>
                </div>

                <!-- Step 4 -->
                <div class="section">
                    <div class="step-header">æ­¥é©Ÿ 4ï¼šç¶œæ‰€ç¨…é¡è©¦ç®—</div>
                    <div class="grid grid-cols-12 gap-2 mt-4">
                        <div class="col-span-4 input-label">ç”³å ±æ‰€å¾—é¡</div>
                        <div class="col-span-5"><input type="number" id="Final_Income" class="input-field" value="0"
                                oninput="calculateTax()"></div>
                        <div class="col-span-3 flex items-center unit">â† å¡«å…¥ä¸Šæ–¹çµæœ</div>

                        <div class="col-span-4 input-label">é©ç”¨ç¨…ç‡</div>
                        <div class="col-span-5"><input type="number" id="Tax_Rate" class="input-field" value="20"
                                oninput="calculateTax()"></div>
                        <div class="col-span-3 flex items-center unit">æŸ¥å³è¡¨å¡«å…¥ (å¦‚ 20)</div>

                        <div class="col-span-4 input-label">ç´¯é€²å·®é¡</div>
                        <div class="col-span-5"><input type="number" id="Prog_Diff" class="input-field" value="147700"
                                oninput="calculateTax()"></div>
                        <div class="col-span-3"></div>

                        <div class="col-span-4 row-header">é ä¼°æ‡‰ç´ç¨…é¡</div>
                        <div class="col-span-5 tax-res" id="Final_Tax">NT$ 0</div>
                        <div class="col-span-3"></div>

                        <div class="col-span-4 row-header">é©—ç®—ç®—å¼</div>
                        <div class="col-span-8 formula-display" id="Formula_Tax"></div>
                    </div>
                </div>
            </div>

            <!-- å³å´ï¼šè²»ç”¨è¡¨èˆ‡èªªæ˜ -->
            <div class="space-y-6">
                <!-- æˆæœ¬è²»ç”¨æ˜ç´°è¡¨ -->
                <div class="border border-gray-400">
                    <div class="exp-header">ã€æˆæœ¬è²»ç”¨æ˜ç´°è¡¨ã€‘</div>
                    <div id="expense-list">
                        <!-- JS ç”Ÿæˆè²»ç”¨é …ç›® -->
                    </div>
                    <div class="grid grid-cols-2 bg-yellow-100 font-bold p-2 border-t border-gray-400">
                        <div>è²»ç”¨ç¸½è¨ˆ</div>
                        <div class="text-right text-blue-800" id="Exp_Total">0</div>
                    </div>
                </div>

                <!-- ç¨…ç‡ç´šè·è¡¨ -->
                <div class="border border-gray-400 text-sm">
                    <div class="exp-header">113å¹´åº¦ç¨…ç‡ç´šè·</div>
                    <div class="grid grid-cols-3 gap-0 bg-white">
                        <div class="p-1 border text-center font-bold">æ‰€å¾—æ·¨é¡</div>
                        <div class="p-1 border text-center font-bold">ç¨…ç‡</div>
                        <div class="p-1 border text-center font-bold">ç´¯é€²å·®é¡</div>

                        <div class="p-1 border">0~59è¬</div>
                        <div class="p-1 border text-center">5%</div>
                        <div class="p-1 border text-right">0</div>
                        <div class="p-1 border">59~133è¬</div>
                        <div class="p-1 border text-center">12%</div>
                        <div class="p-1 border text-right">41,300</div>
                        <div class="p-1 border">133~266è¬</div>
                        <div class="p-1 border text-center">20%</div>
                        <div class="p-1 border text-right">147,700</div>
                        <div class="p-1 border">266~498è¬</div>
                        <div class="p-1 border text-center">30%</div>
                        <div class="p-1 border text-right">413,700</div>
                        <div class="p-1 border">498è¬ä»¥ä¸Š</div>
                        <div class="p-1 border text-center">40%</div>
                        <div class="p-1 border text-right">911,700</div>
                    </div>
                </div>
                <div class="text-right mt-1">
                    <a href="https://www.etax.nat.gov.tw/etwmain/tax-info/understanding/tax-q-and-a/national/individual-income-tax/taxation-scope/which-income/r8q3EDv"
                        target="_blank" class="text-blue-600 hover:text-blue-800 text-xs underline">
                        ğŸ”— è²¡æ”¿éƒ¨-ç¶œåˆæ‰€å¾—ç¨…ç‡æŸ¥è©¢
                    </a>
                </div>

                <!-- é‚è¼¯èªªæ˜ -->
                <div class="bg-green-700 text-white font-bold text-center p-2 rounded-t">ç³»çµ±ä½¿ç”¨æŒ‡å—èˆ‡è¨ˆç®—é‚è¼¯</div>
                <div class="border border-green-700 p-4 bg-white text-sm text-gray-800 space-y-2 rounded-b">
                    <p>ã€æ­¥é©Ÿ1ã€‘å¡«å¯«é»ƒè‰²æ¬„ä½ï¼šæˆ¿å±‹/åœŸåœ°ç¾å€¼ã€æˆäº¤ç¸½åƒ¹ã€‚</p>
                    <p>ã€æ­¥é©Ÿ2ã€‘ç³»çµ±è‡ªå‹•æ‹†åƒ¹ (æ¡å€’æ‰£æ³•ç¢ºä¿ç¸½å’Œæ­£ç¢º)ã€‚</p>
                    <p>ã€æ­¥é©Ÿ3ã€‘é¸æ“‡æ¨¡å¼ï¼š</p>
                    <ul class="list-disc pl-5">
                        <li>A.æ ¸å¯¦èªå®šï¼šéœ€å¡«æˆæœ¬èˆ‡è²»ç”¨ã€‚</li>
                        <li>B.æ¨™æº–è¨­ç®—ï¼šè¼¸å…¥ç•¶åœ°æ¨™æº–ç‡ã€‚</li>
                        <li>C.è±ªå®…è¨­ç®—ï¼šé«˜ç¸½åƒ¹å°ˆç”¨ã€‚</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <script>
        // è²»ç”¨é …ç›®åˆ—è¡¨
        const expensesList = [
            "å–å¾—-å¥‘ç¨…", "å–å¾—-å°èŠ±ç¨…", "å–å¾—-ä»£æ›¸è²»",
            "å–å¾—-ä»²ä»‹è²»", "å–å¾—-å±¥ä¿è²»", "å‡ºå”®-åœŸå¢ç¨…",
            "å‡ºå”®-ä»£æ›¸è²»", "å‡ºå”®-ä»²ä»‹è²»", "æ”¹è‰¯-è£æ½¢è²»", "å…¶ä»–å¿…è¦è²»ç”¨"
        ];

        // åˆå§‹åŒ–è²»ç”¨è¡¨
        function initExpenses() {
            const container = document.getElementById('expense-list');
            expensesList.forEach((name, index) => {
                const html = `
                <div class="grid grid-cols-2 border-b border-gray-200">
                    <div class="exp-item bg-white flex items-center pl-2">${name}</div>
                    <input type="number" class="exp-input input-field text-right border-0" value="0" oninput="calculate()">
                </div>
            `;
                container.innerHTML += html;
            });
        }

        function fmtMoney(num) {
            return num.toLocaleString('en-US', { maximumFractionDigits: 0 });
        }

        function calculate() {
            // 1. å–å¾—è¼¸å…¥
            const L = parseFloat(document.getElementById('L').value) || 0;
            const B = parseFloat(document.getElementById('B').value) || 0;
            const T = parseFloat(document.getElementById('T').value) || 0;
            const C = parseFloat(document.getElementById('C').value) || 0;

            // è²»ç”¨ç¸½è¨ˆ
            let expTotal = 0;
            document.querySelectorAll('.exp-input').forEach(input => {
                expTotal += parseFloat(input.value) || 0;
            });
            document.getElementById('Exp_Total').innerText = fmtMoney(expTotal);

            // 2. æˆ¿åœ°æ¯” (Ratio)
            let ratio = 0;
            if ((L + B) > 0) {
                ratio = B / (L + B);
            }
            document.getElementById('Ratio_Display').innerText = (ratio * 100).toFixed(2) + "%";

            // 3. æˆ¿åœ°æ‹†åƒ¹ (å…¬å¸é‚è¼¯ï¼šBåŠ æ¬Š 1.05)
            let ratioCorp = 0;
            if ((L + B * 1.05) > 0) {
                ratioCorp = (B * 1.05) / (L + B * 1.05);
            }

            const netPrice = T - C;
            const netTxt = fmtMoney(netPrice);

            // -- ä¸€èˆ¬å€‹äºº --
            const bPriceGen = Math.round(netPrice * ratio);
            const lPriceGen = netPrice - bPriceGen; // å€’æ‰£æ³•

            document.getElementById('Res_B_Gen').innerText = fmtMoney(bPriceGen);
            document.getElementById('Formula_B_Gen').innerText = `ç®—å¼ï¼š${netTxt} Ã— ${(ratio * 100).toFixed(2)}% (æ¯”ä¾‹)`;

            document.getElementById('Res_L_Gen').innerText = fmtMoney(lPriceGen);
            document.getElementById('Formula_L_Gen').innerText = `ç®—å¼ï¼š${netTxt} - ${fmtMoney(bPriceGen)} (å»ºç‰©)`;

            // -- å…¬å¸æ³•äºº --
            const bPriceCorp = Math.round(netPrice * ratioCorp);
            const lPriceCorp = netPrice - bPriceCorp;

            document.getElementById('Res_B_Corp').innerText = fmtMoney(bPriceCorp);
            document.getElementById('Formula_B_Corp').innerText = `ç®—å¼ï¼š${netTxt} Ã— ${(ratioCorp * 100).toFixed(2)}% (æ¯”ä¾‹)`;

            document.getElementById('Res_L_Corp').innerText = fmtMoney(lPriceCorp);
            document.getElementById('Formula_L_Corp').innerText = `ç®—å¼ï¼š${netTxt} - ${fmtMoney(bPriceCorp)} (å»ºç‰©)`;

            // 4. æ‰€å¾—è¨ˆç®—
            // A. æ ¸å¯¦
            const costOrig = parseFloat(document.getElementById('Cost_Orig').value) || 0;
            const incomeARaw = (T - costOrig - expTotal) * ratio;
            const incomeA = Math.max(0, Math.round(incomeARaw));

            document.getElementById('Income_A').innerText = fmtMoney(incomeA);
            document.getElementById('Formula_Income_A').innerText = `ç®—å¼ï¼š( ${fmtMoney(T)} - ${fmtMoney(costOrig)} - ${fmtMoney(expTotal)} (è²»ç”¨) ) Ã— ${(ratio * 100).toFixed(2)}%`;

            // B. æ¨™æº–
            let rateStdInput = parseFloat(document.getElementById('Rate_Std').value) || 0;
            let rateStd = (rateStdInput < 1 && rateStdInput > 0) ? rateStdInput : rateStdInput / 100;
            const incomeB = Math.round(B * rateStd);

            document.getElementById('Income_B').innerText = fmtMoney(incomeB);
            document.getElementById('Formula_Income_B').innerText = `ç®—å¼ï¼š ${fmtMoney(B)} (å»ºç‰©ç¾å€¼) Ã— ${(rateStd * 100).toFixed(0)}%`;

            // C. è±ªå®…
            let rateLuxInput = parseFloat(document.getElementById('Rate_Luxury').value) || 20;
            let rateLux = (rateLuxInput < 1 && rateLuxInput > 0) ? rateLuxInput : rateLuxInput / 100;
            const incomeC = Math.round(T * ratio * rateLux);

            document.getElementById('Income_C').innerText = fmtMoney(incomeC);
            document.getElementById('Formula_Income_C').innerText = `ç®—å¼ï¼š ${fmtMoney(T)} Ã— ${(ratio * 100).toFixed(2)}% (æ¯”ä¾‹) Ã— ${(rateLux * 100).toFixed(0)}% (æ­¸å±¬ç‡)`;
        }

        function calculateTax() {
            const finalIncome = parseFloat(document.getElementById('Final_Income').value) || 0;
            let finalRateInput = parseFloat(document.getElementById('Tax_Rate').value) || 0;
            let finalRate = (finalRateInput < 1 && finalRateInput > 0) ? finalRateInput : finalRateInput / 100;
            const progDiff = parseFloat(document.getElementById('Prog_Diff').value) || 0;

            const tax = Math.round(finalIncome * finalRate - progDiff);

            document.getElementById('Final_Tax').innerText = "NT$ " + fmtMoney(tax);
            document.getElementById('Formula_Tax').innerText = `ç®—å¼ï¼š ${fmtMoney(finalIncome)} Ã— ${(finalRate * 100).toFixed(0)}% - ${fmtMoney(progDiff)}`;
        }

        function resetAll() {
            if (!confirm("ç¢ºå®šè¦æ¸…é™¤æ‰€æœ‰è¼¸å…¥çš„è³‡æ–™å—ï¼Ÿ")) return;

            // Reset Step 1 Inputs
            ['L', 'B', 'T', 'C'].forEach(id => document.getElementById(id).value = 0);

            // Reset Expenses
            document.querySelectorAll('.exp-input').forEach(input => input.value = 0);

            // Reset Step 3 Inputs
            document.getElementById('Cost_Orig').value = 0;
            document.getElementById('Rate_Std').value = '';
            document.getElementById('Rate_Luxury').value = 20;

            // Reset Step 4 Inputs
            document.getElementById('Final_Income').value = 0;
            // Keep Tax Rate defaults as they are usually constant-ish, or reset them? 
            // Let's keep tax rate/diff defaults as users might want to keep them. 
            // Actually, user wants "Clear Data", so commonly changed fields.

            // Recalculate
            calculate();
            calculateTax();
        }

        initExpenses();
        calculate();
    </script>

</body>

</html>
```