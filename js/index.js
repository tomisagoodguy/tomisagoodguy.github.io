(()=>{function l(){let e=document.getElementById("checkbox"),i=document.body,s="dark-mode";function o(n){n==="dark"?(i.classList.add(s),e&&(e.checked=!0),localStorage.setItem("theme","dark")):(i.classList.remove(s),e&&(e.checked=!1),localStorage.setItem("theme","light"))}let c=localStorage.getItem("theme"),m=window.matchMedia("(prefers-color-scheme: dark)").matches;o(c==="dark"||c==="dark-mode"||!c&&m?"dark":"light"),e&&e.addEventListener("change",function(){this.checked?o("dark"):o("light")}),window.addEventListener("scroll",function(){window.scrollY>30?document.body.classList.add("scrolled"):document.body.classList.remove("scrolled")});let f=document.querySelectorAll(".reveal-on-scroll"),k=new IntersectionObserver(n=>{n.forEach(t=>{t.isIntersecting&&(t.target.style.opacity="1",t.target.classList.add("reveal-active"))})},{threshold:.1});f.forEach(n=>k.observe(n)),document.querySelectorAll("pre").forEach(function(n){let t=document.createElement("button");t.className="copy-button",t.innerText="Copy",n.appendChild(t),t.addEventListener("click",function(){let r=n.querySelector("code"),p=r?r.innerText:n.innerText;navigator.clipboard.writeText(p).then(function(){t.innerText="Copied!",setTimeout(function(){t.innerText="Copy"},2e3)}).catch(function(h){console.error("Failed to copy: ",h),t.innerText="Error"})})})}function a(){let e=document.getElementById("newsletter-form");e&&e.addEventListener("submit",function(i){i.preventDefault();let s=document.getElementById("newsletter-response"),c=this.querySelector('input[name="email"]').value;s&&(s.innerHTML='<p class="text-success">\u611F\u8B1D\u60A8\u7684\u8A02\u95B1\uFF01</p>'),this.reset()})}function d(e){let i=document.getElementById("js-cookie-box"),s=document.getElementById("js-cookie-button");function o(){if(typeof Cookies>"u"){setTimeout(o,1e3);return}i&&!Cookies.get("cookie-box")&&(i.classList.remove("cookie-box-hide"),s&&(s.onclick=function(){Cookies.set("cookie-box",!0,{expires:e}),localStorage.setItem("cookie-consent","true"),i.classList.add("cookie-box-hide")}))}o()}function u(){let e=$(".sidebar-post-slider");e.length&&$.fn.slick&&e.slick({autoplay:!0,autoplaySpeed:2e3,dots:!1,arrows:!1,infinite:!0,speed:500,slidesToShow:5,slidesToScroll:1,vertical:!0,verticalSwiping:!0})}document.addEventListener("DOMContentLoaded",()=>{l(),a(),u();let e=parseInt(document.body.getAttribute("data-cookie-expire")||"1");d(e)});window.indexURL=window.indexURL||"";})();
